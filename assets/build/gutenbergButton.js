(()=>{"use strict";const t=window.wp.plugins,e=window.wp.editPost,s=window.wp.components,a=window.wp.data,o=window.wp.element,l=window.wp.i18n,i=window.wp.primitives,n=window.ReactJSXRuntime,r=(0,n.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(i.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),p=(0,n.jsx)(i.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)(i.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"})}),c=({settings:t,onSettingsChange:e,postTypes:a,statusChoices:i,originalPost:r})=>{const[c,d]=(0,o.useState)((()=>{const e={...t};return"same"===t.type&&r?.type&&(e.type=r.type),"same"===t.status&&r?.status&&(e.status=r.status),e})()),[u,m]=(0,o.useState)(!1),[_,g]=(0,o.useState)(""),[x,h]=(0,o.useState)(""),[v,y]=(0,o.useState)(!1),S=window.postDuplicatorVars?.users||[],f=window.postDuplicatorVars?.currentUser,j=f?.id?String(f.id):S.length>0?S[0].value:"",[w,b]=(0,o.useState)(j),[N,C]=(0,o.useState)((new Date).toISOString()),[D,T]=(0,o.useState)(""),k=t=>t.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),M=t=>k(t),P=(t,s)=>{const a={...c,[t]:s};"timestamp"===t&&"custom"!==s&&(a.customDate=null),d(a),e(a)};(0,o.useEffect)((()=>{if(!v&&r?.title&&r?.slug){const e=t.fullTitle||`${r.title} ${t.title||""}`;g(e.trim());const s=t.fullSlug||`${r.slug}-${t.slug||"copy"}`;h(s);const a="current_user"===t.post_author?String(f?.id||""):String(r.authorId||f?.id||"");b(a);const o=t.customDate||(new Date).toISOString();C(o),T(z(o)),y(!0)}}),[r,v,t,f]),(0,o.useEffect)((()=>{const e={...t};"same"===t.type&&r?.type&&(e.type=r.type),"same"===t.status&&r?.status&&(e.status=r.status),d(e)}),[t,r]);const z=t=>new Date(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=t=>{C(t),T(z(t)),P("customDate",t)},$=t=>Array.isArray(t)?t:Object.entries(t).map((([t,e])=>({value:t,label:e})));return(0,n.jsxs)(s.__experimentalVStack,{className:"duplicate-settings-fields",spacing:"20px",children:[(0,n.jsxs)(s.__experimentalHStack,{spacing:"16px",alignment:"stretch",children:[(0,n.jsx)(s.TextControl,{label:(0,l.__)("Title","post-duplicator"),value:_,onChange:t=>{if(g(t),!u&&r?.title){const e=M(t);h(e)}P("fullTitle",t)},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,n.jsx)(s.TextControl,{label:(0,l.__)("Slug","post-duplicator"),value:x,onChange:t=>{h(t),m(!0),P("fullSlug",t)},onBlur:()=>{if(x&&""!==x.trim()){const t=k(x);h(t),P("fullSlug",t)}else{const t=M(_);h(t),P("fullSlug",t),m(!1)}},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]}),(0,n.jsxs)(s.__experimentalHStack,{spacing:"16px",alignment:"stretch",children:[(0,n.jsx)(s.SelectControl,{label:(0,l.__)("Post Status","post-duplicator"),value:c.status,options:$(i),onChange:t=>P("status",t),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,n.jsx)(s.SelectControl,{label:(0,l.__)("Post Type","post-duplicator"),value:c.type,options:$(a),onChange:t=>P("type",t),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]}),(0,n.jsxs)(s.__experimentalHStack,{spacing:"16px",alignment:"stretch",children:[(0,n.jsx)(s.SelectControl,{label:(0,l.__)("Post Author","post-duplicator"),value:w||"",options:S,onChange:t=>{b(t),P("selectedAuthorId",parseInt(t))},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,n.jsxs)("div",{style:{flex:1,position:"relative"},children:[(0,n.jsx)(s.TextControl,{label:(0,l.__)("Post Date","post-duplicator"),value:D,onChange:t=>{T(t)},onBlur:()=>{try{const t=new Date(D);if(isNaN(t.getTime()))T(z(N));else{const e=t.toISOString();C(e),T(z(e)),P("customDate",e)}}catch(t){T(z(N))}},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,n.jsx)(s.Dropdown,{position:"bottom right",popoverProps:{placement:"bottom-end",offset:8},renderToggle:({isOpen:t,onToggle:e})=>(0,n.jsx)(s.Button,{onClick:e,"aria-expanded":t,icon:p,style:{position:"absolute",right:"2px",top:"26px",minWidth:"36px",height:"36px",padding:"0"},variant:"tertiary"}),renderContent:({onClose:t})=>(0,n.jsx)("div",{style:{padding:"16px"},children:(0,n.jsx)(s.DateTimePicker,{currentDate:N,onChange:B,is12Hour:!1})})})]})]})]})},d=({taxonomies:t,onChange:e,enabled:a,onToggle:i})=>{const[r,p]=(0,o.useState)(!1),[c,d]=(0,o.useState)({});(0,o.useEffect)((()=>{if(t&&t.length>0){const e={};t.forEach((t=>{e[t.slug]=t.terms.map((t=>t.id))})),d(e)}}),[t]);const u=t?t.length:0,m=t?t.reduce(((t,e)=>t+e.terms.length),0):0,_=Object.values(c).reduce(((t,e)=>t+e.length),0);return t&&0!==t.length?(0,n.jsxs)("div",{className:"duplicate-post-modal__taxonomy-section",children:[(0,n.jsxs)("div",{className:"duplicate-post-modal__section-header",onClick:t=>{t.target.closest(".components-toggle-control")||p(!r)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",cursor:"pointer",borderBottom:r?"1px solid rgba(0, 0, 0, 0.1)":"none"},children:[(0,n.jsx)(s.ToggleControl,{checked:a,onChange:i,__nextHasNoMarginBottom:!0}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("span",{className:"duplicate-post-modal__section-label",children:(0,l.__)("Taxonomies","post-duplicator")}),(0,n.jsxs)("span",{className:"duplicate-post-modal__section-count",children:[" ","(",u," ",(0,l.__)("taxonomies","post-duplicator"),","," ",_||m," ",(0,l.__)("terms","post-duplicator"),")"]})]})]}),r&&(0,n.jsx)("div",{className:"duplicate-post-modal__section-content",style:{padding:"16px"},children:(0,n.jsx)(s.__experimentalVStack,{spacing:"20px",children:t.map((t=>{const a=c[t.slug]||[],o=t.terms.map((t=>t.name)),i=t.terms.filter((t=>a.includes(t.id))).map((t=>t.name));return(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:500},children:t.label}),(0,n.jsx)(s.FormTokenField,{value:i,suggestions:o,onChange:s=>{const a=s.map((e=>{const s=t.terms.find((t=>t.name===e));return s?s.id:null})).filter((t=>null!==t));((t,s)=>{const a={...c,[t]:s};d(a),e&&e(a)})(t.slug,a)},__experimentalExpandOnFocus:!0,__nextHasNoMarginBottom:!0}),(0,n.jsx)("p",{style:{fontSize:"12px",color:"#757575",marginTop:"4px"},children:(0,l.__)("Note: Only existing terms can be selected. New terms must be created in WordPress first.","post-duplicator")})]},t.slug)}))})})]}):null},u=(0,n.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),m=({customMeta:t,onChange:e,enabled:a,onToggle:i})=>{const[r,p]=(0,o.useState)(!1),[c,d]=(0,o.useState)([]);(0,o.useEffect)((()=>{t&&t.length>0?d(t.map((t=>({key:t.key,value:t.value,type:t.type||"string",isSerialized:t.isSerialized||!1,originalValue:t.originalValue||t.value,isDeleted:!1})))):d([])}),[t]);const m=c.filter((t=>!t.isDeleted)).length,_=(t,s,a)=>{const o=[...c];if(o[t]={...o[t],[s]:a},"value"===s&&("array"===o[t].type||"object"===o[t].type))try{const e=JSON.parse(a);o[t].type=Array.isArray(e)?"array":"object"}catch(t){}if(d(o),e){const t=o.filter((t=>!t.isDeleted)).map((t=>({key:t.key,value:t.value,type:t.type,isSerialized:t.isSerialized})));e(t)}};return t&&0!==t.length?(0,n.jsxs)("div",{className:"duplicate-post-modal__custom-meta-section",children:[(0,n.jsxs)("div",{className:"duplicate-post-modal__section-header",onClick:t=>{t.target.closest(".components-toggle-control")||p(!r)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",cursor:"pointer",borderBottom:r?"1px solid rgba(0, 0, 0, 0.1)":"none"},children:[(0,n.jsx)(s.ToggleControl,{checked:a,onChange:i,__nextHasNoMarginBottom:!0}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("span",{className:"duplicate-post-modal__section-label",children:(0,l.__)("Custom Meta","post-duplicator")}),(0,n.jsxs)("span",{className:"duplicate-post-modal__section-count",children:[" ","(",m," ",(0,l.__)("fields","post-duplicator"),")"]})]})]}),r&&(0,n.jsx)("div",{className:"duplicate-post-modal__section-content",style:{padding:"16px"},children:(0,n.jsxs)(s.__experimentalVStack,{spacing:"16px",children:[c.map(((t,a)=>!t.isDeleted&&(0,n.jsx)("div",{style:{padding:"12px",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"4px"},children:(0,n.jsxs)(s.__experimentalHStack,{spacing:"8px",alignment:"top",children:[(0,n.jsx)("div",{style:{flex:1},children:(0,n.jsx)(s.TextControl,{label:(0,l.__)("Key","post-duplicator"),value:t.key,onChange:t=>_(a,"key",t),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),(0,n.jsx)("div",{style:{flex:2},children:"array"===t.type||"object"===t.type?(0,n.jsx)(s.TextareaControl,{label:(0,l.__)("Value (JSON)","post-duplicator"),value:t.value,onChange:t=>_(a,"value",t),onBlur:t=>((t,e)=>{const s=c[t];if("array"===s.type||"object"===s.type)try{JSON.parse(e)}catch(e){_(t,"value",s.value)}})(a,t.target.value),rows:6,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}):(0,n.jsx)(s.TextareaControl,{label:(0,l.__)("Value","post-duplicator"),value:t.value,onChange:t=>_(a,"value",t),rows:3,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),(0,n.jsx)("div",{children:(0,n.jsx)(s.Button,{icon:u,variant:"tertiary",onClick:()=>(t=>{const s=[...c];if(s[t].isDeleted=!0,d(s),e){const t=s.filter((t=>!t.isDeleted)).map((t=>({key:t.key,value:t.value,type:t.type,isSerialized:t.isSerialized})));e(t)}})(a),label:(0,l.__)("Delete field","post-duplicator"),style:{marginTop:"32px"}})})]})},a))),(0,n.jsx)(s.Button,{variant:"secondary",onClick:()=>{const t=[...c,{key:"",value:"",type:"string",isSerialized:!1,originalValue:"",isDeleted:!1}];d(t)},style:{alignSelf:"flex-start"},children:(0,l.__)("Add Field","post-duplicator")})]})})]}):null},_=({isOpen:t,onClose:e,onDuplicate:a,originalPost:i,defaultSettings:p,postTypes:u,statusChoices:_,siteUrl:g,currentUser:x})=>{const[h,v]=(0,o.useState)(p),[y,S]=(0,o.useState)(!1),[f,j]=(0,o.useState)(!1),[w,b]=(0,o.useState)(!0),[N,C]=(0,o.useState)(!0),[D,T]=(0,o.useState)({}),[k,M]=(0,o.useState)([]);(0,o.useEffect)((()=>{if(t){if(v(p),S(!1),b(!0),C(!0),i?.taxonomies){const t={};i.taxonomies.forEach((e=>{t[e.slug]=e.terms.map((t=>t.id))})),T(t)}else T({});M(i?.customMeta?i.customMeta.map((t=>({key:t.key,value:t.value,type:t.type||"string",isSerialized:t.isSerialized||!1}))):[])}}),[t,p,i]);const P=()=>{const t="same"===h.type?i.type:h.type;return u[t]||t};if(!t)return null;const z=(0,n.jsx)(s.Button,{icon:r,variant:y?"primary":"secondary",label:y?(0,l.__)("Done Customizing","post-duplicator"):(0,l.__)("Customize Settings","post-duplicator"),onClick:()=>S(!y),size:"small"});return(0,n.jsxs)(s.Modal,{title:i?.title?h.fullTitle?h.fullTitle:`${i.title} ${h.title}`:"",onRequestClose:e,className:"duplicate-post-modal",size:"large",style:{borderRadius:0},headerActions:z,children:[(0,n.jsxs)("div",{className:"duplicate-post-modal__content",style:{paddingBottom:"77px"},children:[(0,n.jsxs)("div",{className:"duplicate-post-modal__preview",children:[(0,n.jsxs)("div",{className:"duplicate-post-modal__preview-item",children:[(0,n.jsx)("span",{className:"duplicate-post-modal__preview-label",children:(0,l.__)("Post Type:","post-duplicator")}),(0,n.jsx)("span",{className:"duplicate-post-modal__preview-value",children:P()})]}),(0,n.jsxs)("div",{className:"duplicate-post-modal__preview-item",children:[(0,n.jsx)("span",{className:"duplicate-post-modal__preview-label",children:(0,l.__)("Post Status:","post-duplicator")}),(0,n.jsx)("span",{className:"duplicate-post-modal__preview-value",children:(()=>{const t="same"===h.status?i.status:h.status;return _[t]||t})()})]}),(0,n.jsxs)("div",{className:"duplicate-post-modal__preview-item",children:[(0,n.jsx)("span",{className:"duplicate-post-modal__preview-label",children:(0,l.__)("Post Date:","post-duplicator")}),(0,n.jsx)("span",{className:"duplicate-post-modal__preview-value",children:(()=>{let t;if(t=h.customDate?new Date(h.customDate).getTime():"duplicate"===h.timestamp&&i.date?new Date(i.date).getTime():Date.now(),h.time_offset){const e=1e3*(86400*parseInt(h.time_offset_days||0)+3600*parseInt(h.time_offset_hours||0)+60*parseInt(h.time_offset_minutes||0)+parseInt(h.time_offset_seconds||0));"newer"===h.time_offset_direction?t+=e:t-=e}const e=new Date(t);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`})()})]}),(0,n.jsxs)("div",{className:"duplicate-post-modal__preview-item",children:[(0,n.jsx)("span",{className:"duplicate-post-modal__preview-label",children:(0,l.__)("Post Author:","post-duplicator")}),(0,n.jsx)("span",{className:"duplicate-post-modal__preview-value",children:"current_user"===h.post_author?x?.name||(0,l.__)("Current User","post-duplicator"):i?.author?i.author:(0,l.__)("Original Author","post-duplicator")})]}),(0,n.jsxs)("div",{className:"duplicate-post-modal__preview-item",children:[(0,n.jsx)("span",{className:"duplicate-post-modal__preview-label",children:(0,l.__)("Post URL:","post-duplicator")}),(0,n.jsx)("span",{className:"duplicate-post-modal__preview-value duplicate-post-modal__preview-url",children:(()=>{const t=i?.slug?h.fullSlug?h.fullSlug:`${i.slug}-${h.slug||"copy"}`:"";return t&&g?`${g}/${t}/`:""})()})]}),i?.taxonomies&&i.taxonomies.length>0&&(0,n.jsxs)("div",{className:"duplicate-post-modal__preview-item",children:[(0,n.jsx)("span",{className:"duplicate-post-modal__preview-label",children:(0,l.__)("Taxonomies:","post-duplicator")}),(0,n.jsx)("span",{className:"duplicate-post-modal__preview-value",children:(()=>{if(!w)return(0,l.__)("None (disabled)","post-duplicator");if(!i?.taxonomies||0===i.taxonomies.length)return(0,l.__)("None","post-duplicator");const t=Object.keys(D).length||i.taxonomies.length,e=Object.values(D).reduce(((t,e)=>t+(Array.isArray(e)?e.length:0)),0)||i.taxonomies.reduce(((t,e)=>t+e.terms.length),0);return`${t} ${(0,l.__)("taxonomies","post-duplicator")}, ${e} ${(0,l.__)("terms","post-duplicator")}`})()})]}),i?.customMeta&&i.customMeta.length>0&&(0,n.jsxs)("div",{className:"duplicate-post-modal__preview-item",children:[(0,n.jsx)("span",{className:"duplicate-post-modal__preview-label",children:(0,l.__)("Custom Meta:","post-duplicator")}),(0,n.jsx)("span",{className:"duplicate-post-modal__preview-value",children:N?`${k.length||i?.customMeta?.length||0} ${(0,l.__)("fields","post-duplicator")}`:(0,l.__)("None (disabled)","post-duplicator")})]})]}),y&&(0,n.jsxs)("div",{className:"duplicate-post-modal__settings",children:[(0,n.jsx)(c,{settings:h,onSettingsChange:v,postTypes:u,statusChoices:_,originalPost:i}),i?.taxonomies&&i.taxonomies.length>0&&(0,n.jsx)(d,{taxonomies:i.taxonomies,onChange:t=>{T(t)},enabled:w,onToggle:b}),i?.customMeta&&i.customMeta.length>0&&(0,n.jsx)(m,{customMeta:i.customMeta,onChange:t=>{M(t)},enabled:N,onToggle:C})]})]}),(0,n.jsxs)(s.__experimentalHStack,{alignment:"right",className:"duplicate-post-modal__footer",style:{position:"absolute",bottom:"0px",left:"0",padding:"20px",borderTop:"1px solid rgba(0, 0, 0, 0.1)",background:"#FFF"},children:[(0,n.jsx)(s.Button,{variant:"tertiary",onClick:e,disabled:f,children:(0,l.__)("Cancel","post-duplicator")}),(0,n.jsx)(s.Button,{variant:"primary",onClick:async()=>{j(!0);try{const t={...h,includeTaxonomies:w,includeCustomMeta:N,taxonomyData:D,customMetaData:k};await a(t)}catch(t){console.error("Error duplicating:",t)}finally{j(!1)}},disabled:f,isBusy:f,children:f?(0,l.__)("Duplicating...","post-duplicator"):(()=>{const t=P();return(0,l.__)(`Duplicate ${t}`,"post-duplicator")})()})]})]})};(0,t.registerPlugin)("post-duplicator-button",{render:()=>{const[t,i]=(0,o.useState)(!1),[r,p]=(0,o.useState)(null),[c,d]=(0,o.useState)(!1),[u,m]=(0,o.useState)([]),[g,x]=(0,o.useState)([]),{postId:h,postType:v,postStatus:y,postTypeLabel:S,postTitle:f,postSlug:j,postDate:w,postAuthor:b}=(0,a.useSelect)((t=>{const e=t("core/editor"),s=e.getCurrentPost(),a=e.getCurrentPostType(),o=t("core").getPostType(a),l=e.getEditedPostAttribute("author"),i=t("core").getUser(l),n=i?i.name:"Unknown Author";return{postId:s.id,postType:a,postStatus:e.getEditedPostAttribute("status"),postTypeLabel:o?o.labels.singular_name:"Post",postTitle:e.getEditedPostAttribute("title"),postSlug:e.getEditedPostAttribute("slug"),postDate:e.getEditedPostAttribute("date"),postAuthor:n}}),[]);if((0,o.useEffect)((()=>{if(c&&h){const t=async()=>{try{const t=await fetch(`${postDuplicatorVars.restUrl}post-data/${h}`,{headers:{"X-WP-Nonce":postDuplicatorVars.nonce}});if(t.ok){const e=await t.json();m(e.taxonomies||[]),x(e.customMeta||[])}}catch(t){console.error("Error fetching post data:",t)}};t()}}),[c,h]),"publish"!==y||!h)return null;const N={id:h,title:f,type:v,status:y,slug:j,date:w,author:b,taxonomies:u,customMeta:g};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.PluginPostStatusInfo,{className:"m4c-duplicate-post-status-info",children:(0,n.jsxs)("div",{className:"m4c-duplicate-post-wrapper",style:{paddingTop:"16px"},children:[(0,n.jsx)(s.Button,{variant:"secondary",className:"m4c-duplicate-post-gutenberg",onClick:()=>d(!0),disabled:t,children:(0,l.__)(`Duplicate ${S}`,"post-duplicator")}),r&&(0,n.jsx)("div",{className:"m4c-duplicate-error",children:r})]})}),(0,n.jsx)(_,{isOpen:c,onClose:()=>d(!1),onDuplicate:async t=>{i(!0),p(null);try{const e=await fetch(`${postDuplicatorVars.restUrl}duplicate-post`,{method:"POST",headers:{"X-WP-Nonce":postDuplicatorVars.nonce,"Content-Type":"application/json"},body:JSON.stringify({original_id:h,...t})});if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to duplicate post")}const s=await e.json();if(s.duplicate_id){const t=`${postDuplicatorVars.siteUrl}/wp-admin/post.php?post=${s.duplicate_id}&action=edit`;window.open(t,"_blank"),i(!1),d(!1)}}catch(t){console.error("Error duplicating post:",t),p(t.message),i(!1)}},originalPost:N,defaultSettings:postDuplicatorVars.defaultSettings,postTypes:postDuplicatorVars.postTypes,statusChoices:postDuplicatorVars.statusChoices,siteUrl:postDuplicatorVars.siteUrl,currentUser:postDuplicatorVars.currentUser})]})}})})();