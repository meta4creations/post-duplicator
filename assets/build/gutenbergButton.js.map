{"version":3,"file":"gutenbergButton.js","mappings":"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","sources":["webpack://post-duplicator/./node_modules/@wordpress/icons/build-module/library/calendar.js","webpack://post-duplicator/./node_modules/@wordpress/icons/build-module/library/trash.js","webpack://post-duplicator/./src/components/CustomMetaSection.js","webpack://post-duplicator/./src/components/DuplicateModal.js","webpack://post-duplicator/./src/components/DuplicateSettingsFields.js","webpack://post-duplicator/./src/components/TaxonomySection.js","webpack://post-duplicator/./src/css/gutenberg-button.scss","webpack://post-duplicator/./src/utils/duplicatePost.js","webpack://post-duplicator/external window [\"wp\",\"blockEditor\"]","webpack://post-duplicator/external window [\"wp\",\"components\"]","webpack://post-duplicator/external window [\"wp\",\"data\"]","webpack://post-duplicator/external window [\"wp\",\"editor\"]","webpack://post-duplicator/external window [\"wp\",\"element\"]","webpack://post-duplicator/external window [\"wp\",\"i18n\"]","webpack://post-duplicator/external window [\"wp\",\"plugins\"]","webpack://post-duplicator/external window [\"wp\",\"primitives\"]","webpack://post-duplicator/external window \"ReactJSXRuntime\"","webpack://post-duplicator/webpack/bootstrap","webpack://post-duplicator/webpack/runtime/compat get default export","webpack://post-duplicator/webpack/runtime/define property getters","webpack://post-duplicator/webpack/runtime/hasOwnProperty shorthand","webpack://post-duplicator/webpack/runtime/make namespace object","webpack://post-duplicator/./src/gutenberg-button.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst calendar = /*#__PURE__*/_jsx(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z\"\n  })\n});\nexport default calendar;\n//# sourceMappingURL=calendar.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst trash = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z\"\n  })\n});\nexport default trash;\n//# sourceMappingURL=trash.js.map","import { useState, useEffect } from '@wordpress/element';\nimport {\n\tToggleControl,\n\tTextControl,\n\tTextareaControl,\n\tButton,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { trash } from '@wordpress/icons';\n\nconst CustomMetaSection = ( { customMeta, onChange, enabled, onToggle } ) => {\n\tconst [ isExpanded, setIsExpanded ] = useState( false );\n\tconst [ metaFields, setMetaFields ] = useState( [] );\n\n\t// Initialize meta fields from customMeta\n\tuseEffect( () => {\n\t\tif ( customMeta && customMeta.length > 0 ) {\n\t\t\tsetMetaFields(\n\t\t\t\tcustomMeta.map( ( meta ) => ( {\n\t\t\t\t\tkey: meta.key,\n\t\t\t\t\tvalue: meta.value,\n\t\t\t\t\ttype: meta.type || 'string',\n\t\t\t\t\tisSerialized: meta.isSerialized || false,\n\t\t\t\t\toriginalValue: meta.originalValue || meta.value,\n\t\t\t\t\tisDeleted: false,\n\t\t\t\t} ) )\n\t\t\t);\n\t\t} else {\n\t\t\tsetMetaFields( [] );\n\t\t}\n\t}, [ customMeta ] );\n\n\t// Calculate field count (excluding deleted)\n\tconst fieldCount = metaFields.filter(\n\t\t( field ) => ! field.isDeleted\n\t).length;\n\n\tconst handleFieldChange = ( index, field, value ) => {\n\t\tconst newFields = [ ...metaFields ];\n\t\tnewFields[ index ] = {\n\t\t\t...newFields[ index ],\n\t\t\t[ field ]: value,\n\t\t};\n\n\t\t// If value changed and it's array/object type, try to detect type\n\t\tif (\n\t\t\tfield === 'value' &&\n\t\t\t( newFields[ index ].type === 'array' ||\n\t\t\t\tnewFields[ index ].type === 'object' )\n\t\t) {\n\t\t\ttry {\n\t\t\t\tconst parsed = JSON.parse( value );\n\t\t\t\tnewFields[ index ].type = Array.isArray( parsed )\n\t\t\t\t\t? 'array'\n\t\t\t\t\t: 'object';\n\t\t\t} catch ( e ) {\n\t\t\t\t// Invalid JSON, keep current type\n\t\t\t}\n\t\t}\n\n\t\tsetMetaFields( newFields );\n\n\t\t// Notify parent of change with properly formatted data\n\t\tif ( onChange ) {\n\t\t\tconst formattedFields = newFields\n\t\t\t\t.filter( ( f ) => ! f.isDeleted )\n\t\t\t\t.map( ( f ) => ( {\n\t\t\t\t\tkey: f.key,\n\t\t\t\t\tvalue: f.value,\n\t\t\t\t\ttype: f.type,\n\t\t\t\t\tisSerialized: f.isSerialized,\n\t\t\t\t} ) );\n\t\t\tonChange( formattedFields );\n\t\t}\n\t};\n\n\tconst handleDeleteField = ( index ) => {\n\t\tconst newFields = [ ...metaFields ];\n\t\tnewFields[ index ].isDeleted = true;\n\t\tsetMetaFields( newFields );\n\n\t\t// Notify parent of change with properly formatted data\n\t\tif ( onChange ) {\n\t\t\tconst formattedFields = newFields\n\t\t\t\t.filter( ( f ) => ! f.isDeleted )\n\t\t\t\t.map( ( f ) => ( {\n\t\t\t\t\tkey: f.key,\n\t\t\t\t\tvalue: f.value,\n\t\t\t\t\ttype: f.type,\n\t\t\t\t\tisSerialized: f.isSerialized,\n\t\t\t\t} ) );\n\t\t\tonChange( formattedFields );\n\t\t}\n\t};\n\n\tconst handleAddField = () => {\n\t\tconst newField = {\n\t\t\tkey: '',\n\t\t\tvalue: '',\n\t\t\ttype: 'string',\n\t\t\tisSerialized: false,\n\t\t\toriginalValue: '',\n\t\t\tisDeleted: false,\n\t\t};\n\t\tconst newFields = [ ...metaFields, newField ];\n\t\tsetMetaFields( newFields );\n\t};\n\n\tconst handleSectionClick = ( e ) => {\n\t\t// Don't expand if clicking the toggle\n\t\tif ( e.target.closest( '.components-toggle-control' ) ) {\n\t\t\treturn;\n\t\t}\n\t\tsetIsExpanded( ! isExpanded );\n\t};\n\n\tconst handleValueBlur = ( index, value ) => {\n\t\tconst field = metaFields[ index ];\n\n\t\t// If it's an array or object type, validate JSON\n\t\tif ( field.type === 'array' || field.type === 'object' ) {\n\t\t\ttry {\n\t\t\t\tJSON.parse( value );\n\t\t\t\t// Valid JSON, keep it\n\t\t\t} catch ( error ) {\n\t\t\t\t// Invalid JSON, revert to previous value\n\t\t\t\thandleFieldChange( index, 'value', field.value );\n\t\t\t}\n\t\t}\n\t};\n\n\tif ( ! customMeta || customMeta.length === 0 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div \n\t\t\tclassName=\"duplicate-post-modal__custom-meta-section\"\n\t\t\tstyle={ {\n\t\t\t\topacity: enabled ? 1 : 0.5,\n\t\t\t} }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"duplicate-post-modal__section-header\"\n\t\t\t\tonClick={ handleSectionClick }\n\t\t\t\tstyle={ {\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tgap: '12px',\n\t\t\t\t\tpadding: '12px',\n\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\tborderBottom: isExpanded\n\t\t\t\t\t\t? '1px solid rgba(0, 0, 0, 0.1)'\n\t\t\t\t\t\t: 'none',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<ToggleControl\n\t\t\t\t\tchecked={ enabled }\n\t\t\t\t\tonChange={ onToggle }\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t/>\n\t\t\t\t<div style={ { flex: 1 } }>\n\t\t\t\t\t<span className=\"duplicate-post-modal__section-label\">\n\t\t\t\t\t\t{ __( 'Custom Meta', 'post-duplicator' ) }\n\t\t\t\t\t</span>\n\t\t\t\t\t{ enabled && (\n\t\t\t\t\t\t<span className=\"duplicate-post-modal__section-count\">\n\t\t\t\t\t\t\t{ ' ' }\n\t\t\t\t\t\t\t({ fieldCount } { __( 'fields', 'post-duplicator' ) })\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{ isExpanded && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"duplicate-post-modal__section-content\"\n\t\t\t\t\tstyle={ { padding: '16px' } }\n\t\t\t\t>\n\t\t\t\t\t<VStack spacing=\"16px\">\n\t\t\t\t\t\t{ metaFields.map(\n\t\t\t\t\t\t\t( field, index ) =>\n\t\t\t\t\t\t\t\t! field.isDeleted && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\tpadding: '12px',\n\t\t\t\t\t\t\t\t\t\t\tborder: '1px solid rgba(0, 0, 0, 0.1)',\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<HStack spacing=\"8px\" alignment=\"top\">\n\t\t\t\t\t\t\t\t\t\t\t<div style={ { flex: 1 } }>\n\t\t\t\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Key',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'post-duplicator'\n\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ field.key }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleFieldChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'key',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div style={ { flex: 2 } }>\n\t\t\t\t\t\t\t\t\t\t\t\t{ field.type === 'array' ||\n\t\t\t\t\t\t\t\t\t\t\t\tfield.type === 'object' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Value (JSON)',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'post-duplicator'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ field.value }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleFieldChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'value',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ ( e ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleValueBlur(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={ 6 }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Value',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'post-duplicator'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ field.value }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleFieldChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'value',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={ 3 }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={ trash }\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDeleteField(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Delete field',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'post-duplicator'\n\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '32px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={ handleAddField }\n\t\t\t\t\t\t\tstyle={ { alignSelf: 'flex-start' } }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Add Field', 'post-duplicator' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</VStack>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nexport default CustomMetaSection;\n","import { useState, useEffect, useRef } from '@wordpress/element';\nimport {\n\tModal,\n\tButton,\n\tSpinner,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport DuplicateSettingsFields from './DuplicateSettingsFields';\nimport TaxonomySection from './TaxonomySection';\nimport CustomMetaSection from './CustomMetaSection';\n\nconst DuplicateModal = ( {\n\tisOpen,\n\tonClose,\n\tonDuplicate,\n\toriginalPost,\n\tdefaultSettings,\n\tpostTypes,\n\tstatusChoices,\n\tsiteUrl,\n\tcurrentUser,\n} ) => {\n\tconst [ settings, setSettings ] = useState( defaultSettings );\n\tconst [ isLoading, setIsLoading ] = useState( false );\n\tconst [ includeTaxonomies, setIncludeTaxonomies ] = useState( true );\n\tconst [ includeCustomMeta, setIncludeCustomMeta ] = useState( true );\n\tconst [ taxonomyData, setTaxonomyData ] = useState( {} );\n\tconst [ customMetaData, setCustomMetaData ] = useState( [] );\n\tconst [ featuredImage, setFeaturedImage ] = useState( null );\n\tconst [ duplicateStatus, setDuplicateStatus ] = useState( 'idle' );\n\tconst [ duplicatedPostId, setDuplicatedPostId ] = useState( null );\n\tconst [ duplicatedPostTitle, setDuplicatedPostTitle ] = useState( '' );\n\tconst prevIsOpenRef = useRef( false );\n\n\t// Only reset state when modal is first opened (isOpen changes from false to true)\n\tuseEffect( () => {\n\t\tif ( isOpen && ! prevIsOpenRef.current ) {\n\t\t\tsetSettings( defaultSettings );\n\t\t\tsetIncludeTaxonomies( true );\n\t\t\tsetIncludeCustomMeta( true );\n\t\t\tsetDuplicateStatus( 'idle' );\n\t\t\tsetDuplicatedPostId( null );\n\t\t\tsetDuplicatedPostTitle( '' );\n\t\t}\n\t\tprevIsOpenRef.current = isOpen;\n\t}, [ isOpen, defaultSettings ] );\n\n\t// Update data when originalPost changes, but only if modal is open and in idle state\n\tuseEffect( () => {\n\t\tif ( ! isOpen || duplicateStatus !== 'idle' ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Initialize taxonomy data from original post\n\t\tif ( originalPost?.taxonomies ) {\n\t\t\tconst initialTaxonomyData = {};\n\t\t\toriginalPost.taxonomies.forEach( ( taxonomy ) => {\n\t\t\t\tinitialTaxonomyData[ taxonomy.slug ] = taxonomy.terms.map(\n\t\t\t\t\t( term ) => term.id\n\t\t\t\t);\n\t\t\t} );\n\t\t\tsetTaxonomyData( initialTaxonomyData );\n\t\t} else {\n\t\t\tsetTaxonomyData( {} );\n\t\t}\n\n\t\t// Initialize custom meta data from original post\n\t\tif ( originalPost?.customMeta ) {\n\t\t\tsetCustomMetaData(\n\t\t\t\toriginalPost.customMeta.map( ( meta ) => ( {\n\t\t\t\t\tkey: meta.key,\n\t\t\t\t\tvalue: meta.value,\n\t\t\t\t\ttype: meta.type || 'string',\n\t\t\t\t\tisSerialized: meta.isSerialized || false,\n\t\t\t\t} ) )\n\t\t\t);\n\t\t} else {\n\t\t\tsetCustomMetaData( [] );\n\t\t}\n\n\t\t// Initialize featured image from original post\n\t\tif ( originalPost?.featuredImage ) {\n\t\t\tsetFeaturedImage( originalPost.featuredImage );\n\t\t} else {\n\t\t\tsetFeaturedImage( null );\n\t\t}\n\t}, [ isOpen, originalPost, duplicateStatus ] );\n\n\tconst getModalTitle = () => {\n\t\tif ( ! originalPost?.title ) return '';\n\t\t// Use fullTitle if available, otherwise use original + suffix\n\t\tif ( settings.fullTitle ) {\n\t\t\treturn settings.fullTitle;\n\t\t}\n\t\treturn `${ originalPost.title } ${ settings.title }`;\n\t};\n\n\tconst getDuplicateButtonLabel = () => {\n\t\tconst targetType =\n\t\t\tsettings.type === 'same' ? originalPost.type : settings.type;\n\t\tconst postTypeLabel = postTypes[ targetType ] || targetType;\n\t\treturn __( `Duplicate ${ postTypeLabel }`, 'post-duplicator' );\n\t};\n\n\tconst handleDuplicate = async () => {\n\t\tsetIsLoading( true );\n\t\tsetDuplicateStatus( 'duplicating' );\n\t\t\n\t\t// Calculate the final post title\n\t\tconst finalTitle = settings.fullTitle || \n\t\t\t`${ originalPost.title } ${ settings.title }`;\n\t\tsetDuplicatedPostTitle( finalTitle );\n\t\t\n\t\ttry {\n\t\t\tconst duplicateSettings = {\n\t\t\t\t...settings,\n\t\t\t\tincludeTaxonomies,\n\t\t\t\tincludeCustomMeta,\n\t\t\t\ttaxonomyData,\n\t\t\t\tcustomMetaData,\n\t\t\t\tfeaturedImageId: featuredImage?.id || null,\n\t\t\t};\n\t\t\t\n\t\t\t// Create a promise wrapper to handle the callback-based onDuplicate\n\t\t\tawait new Promise( ( resolve, reject ) => {\n\t\t\t\tonDuplicate( duplicateSettings, {\n\t\t\t\t\tonSuccess: ( result ) => {\n\t\t\t\t\t\tsetDuplicatedPostId( result.duplicate_id );\n\t\t\t\t\t\tsetDuplicateStatus( 'complete' );\n\t\t\t\t\t\tsetIsLoading( false );\n\t\t\t\t\t\tresolve( result );\n\t\t\t\t\t},\n\t\t\t\t\tonError: ( error ) => {\n\t\t\t\t\t\tconsole.error( 'Error duplicating:', error );\n\t\t\t\t\t\tsetDuplicateStatus( 'idle' );\n\t\t\t\t\t\tsetIsLoading( false );\n\t\t\t\t\t\treject( error );\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\t// Error already handled in callback\n\t\t}\n\t};\n\n\tconst handleTaxonomyChange = ( selectedTerms ) => {\n\t\tsetTaxonomyData( selectedTerms );\n\t};\n\n\tconst handleCustomMetaChange = ( metaFields ) => {\n\t\tsetCustomMetaData( metaFields );\n\t};\n\n\t// Set CSS variable on modal frame when featured image changes\n\tuseEffect( () => {\n\t\tif ( featuredImage && isOpen ) {\n\t\t\t// Use setTimeout to ensure modal is rendered\n\t\t\tconst timer = setTimeout( () => {\n\t\t\t\tconst modalFrame = document.querySelector(\n\t\t\t\t\t'.duplicate-post-modal--has-featured-image.components-modal__frame'\n\t\t\t\t);\n\t\t\t\tif ( modalFrame ) {\n\t\t\t\t\tmodalFrame.style.setProperty(\n\t\t\t\t\t\t'--featured-image-url',\n\t\t\t\t\t\t`url(${ featuredImage.thumbnail || featuredImage.url })`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}, 0 );\n\t\t\treturn () => clearTimeout( timer );\n\t\t}\n\t}, [ featuredImage, isOpen ] );\n\n\tif ( ! isOpen ) return null;\n\n\tconst handleClose = () => {\n\t\t// Prevent closing while duplicating\n\t\tif ( duplicateStatus === 'duplicating' ) {\n\t\t\treturn;\n\t\t}\n\t\t// Reset state when closing from complete state\n\t\tif ( duplicateStatus === 'complete' ) {\n\t\t\tsetDuplicateStatus( 'idle' );\n\t\t\tsetDuplicatedPostId( null );\n\t\t\tsetDuplicatedPostTitle( '' );\n\t\t}\n\t\tonClose();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ getModalTitle() }\n\t\t\tonRequestClose={ handleClose }\n\t\t\tclassName={ `duplicate-post-modal ${\n\t\t\t\tfeaturedImage ? 'duplicate-post-modal--has-featured-image' : ''\n\t\t\t}` }\n\t\t\tsize=\"large\"\n\t\t\tstyle={ { borderRadius: 0 } }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"duplicate-post-modal__content\"\n\t\t\t\tstyle={ { paddingBottom: duplicateStatus === 'idle' ? '77px' : '0' } }\n\t\t\t>\n\t\t\t\t{ duplicateStatus === 'idle' ? (\n\t\t\t\t\t<VStack className=\"duplicate-post-modal__settings\">\n\t\t\t\t\t<DuplicateSettingsFields\n\t\t\t\t\t\tsettings={ settings }\n\t\t\t\t\t\tonSettingsChange={ setSettings }\n\t\t\t\t\t\tpostTypes={ postTypes }\n\t\t\t\t\t\tstatusChoices={ statusChoices }\n\t\t\t\t\t\toriginalPost={ originalPost }\n\t\t\t\t\t\tfeaturedImage={ featuredImage }\n\t\t\t\t\t\tonFeaturedImageChange={ setFeaturedImage }\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ originalPost?.taxonomies &&\n\t\t\t\t\t\toriginalPost.taxonomies.length > 0 && (\n\t\t\t\t\t\t\t<TaxonomySection\n\t\t\t\t\t\t\t\ttaxonomies={ originalPost.taxonomies }\n\t\t\t\t\t\t\t\tonChange={ handleTaxonomyChange }\n\t\t\t\t\t\t\t\tenabled={ includeTaxonomies }\n\t\t\t\t\t\t\t\tonToggle={ setIncludeTaxonomies }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t{ originalPost?.customMeta &&\n\t\t\t\t\t\toriginalPost.customMeta.length > 0 && (\n\t\t\t\t\t\t\t<CustomMetaSection\n\t\t\t\t\t\t\t\tcustomMeta={ originalPost.customMeta }\n\t\t\t\t\t\t\t\tonChange={ handleCustomMetaChange }\n\t\t\t\t\t\t\t\tenabled={ includeCustomMeta }\n\t\t\t\t\t\t\t\tonToggle={ setIncludeCustomMeta }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VStack>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"duplicate-post-modal__status\">\n\t\t\t\t\t\t<div className=\"duplicate-post-modal__status-item\">\n\t\t\t\t\t\t\t{ featuredImage && (\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={ featuredImage.thumbnail || featuredImage.url }\n\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\tclassName=\"duplicate-post-modal__status-thumbnail\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<h3 className=\"duplicate-post-modal__status-title\">\n\t\t\t\t\t\t\t\t{ duplicatedPostTitle }\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className=\"duplicate-post-modal__status-actions\">\n\t\t\t\t\t\t\t\t{ duplicateStatus === 'duplicating' ? (\n\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\t\twindow.open(\n\t\t\t\t\t\t\t\t\t\t\t\t\t`${ siteUrl }/?p=${ duplicatedPostId }`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t'_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'View Post', 'post-duplicator' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\t\twindow.open(\n\t\t\t\t\t\t\t\t\t\t\t\t\t`${ siteUrl }/wp-admin/post.php?post=${ duplicatedPostId }&action=edit`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t'_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Edit Post', 'post-duplicator' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ duplicateStatus === 'idle' && (\n\t\t\t\t<HStack\n\t\t\t\talignment=\"right\"\n\t\t\t\tclassName=\"duplicate-post-modal__footer\"\n\t\t\t\tstyle={ {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tbottom: '0px',\n\t\t\t\t\tleft: '0',\n\t\t\t\t\tpadding: '20px',\n\t\t\t\t\tborderTop: '1px solid rgba(0, 0, 0, 0.1)',\n\t\t\t\t\tbackground: '#FFF',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tonClick={ handleClose }\n\t\t\t\t\tdisabled={ isLoading }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Cancel', 'post-duplicator' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tonClick={ handleDuplicate }\n\t\t\t\t\tdisabled={ isLoading }\n\t\t\t\t\tisBusy={ isLoading }\n\t\t\t\t>\n\t\t\t\t\t{ isLoading\n\t\t\t\t\t\t? __( 'Duplicating...', 'post-duplicator' )\n\t\t\t\t\t\t: getDuplicateButtonLabel() }\n\t\t\t\t</Button>\n\t\t\t</HStack>\n\t\t\t) }\n\t\t</Modal>\n\t);\n};\n\nexport default DuplicateModal;\n","import { useState, useEffect, useRef } from '@wordpress/element';\nimport {\n\tSelectControl,\n\tTextControl,\n\tCheckboxControl,\n\tDateTimePicker,\n\tDropdown,\n\tButton,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n\t__experimentalNumberControl as NumberControl,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tDropZone,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { calendar, trash } from '@wordpress/icons';\n\n// Try to import MediaUpload components, but they may not be available on post list screen\n// Use a function to check availability at runtime\nconst getMediaUploadComponents = () => {\n\ttry {\n\t\t// Try to dynamically import - this will work if the module is available\n\t\tconst blockEditor = require( '@wordpress/block-editor' );\n\t\t\n\t\t// Verify the components are actually functions/components, not just truthy\n\t\tif ( \n\t\t\tblockEditor && \n\t\t\tblockEditor.MediaUpload && \n\t\t\tblockEditor.MediaUploadCheck &&\n\t\t\ttypeof blockEditor.MediaUpload === 'function' &&\n\t\t\ttypeof blockEditor.MediaUploadCheck === 'function'\n\t\t) {\n\t\t\treturn {\n\t\t\t\tMediaUpload: blockEditor.MediaUpload,\n\t\t\t\tMediaUploadCheck: blockEditor.MediaUploadCheck,\n\t\t\t};\n\t\t}\n\t} catch ( e ) {\n\t\t// MediaUpload not available - will use wp.media fallback\n\t}\n\t// Always return an object, even if components are null\n\treturn { MediaUpload: null, MediaUploadCheck: null };\n};\n\nconst DuplicateSettingsFields = ( {\n\tsettings,\n\tonSettingsChange,\n\tpostTypes,\n\tstatusChoices,\n\toriginalPost,\n\tfeaturedImage,\n\tonFeaturedImageChange,\n} ) => {\n\t// Initialize settings with proper type and status values\n\t// If default is \"same\", use original post's value, otherwise use default\n\tconst getInitialSettings = () => {\n\t\tconst initial = { ...settings };\n\n\t\t// Handle type: if \"same\", use original post type\n\t\tif ( settings.type === 'same' && originalPost?.type ) {\n\t\t\tinitial.type = originalPost.type;\n\t\t}\n\n\t\t// Handle status: if \"same\", use original post status\n\t\tif ( settings.status === 'same' && originalPost?.status ) {\n\t\t\tinitial.status = originalPost.status;\n\t\t}\n\n\t\treturn initial;\n\t};\n\n\tconst [ localSettings, setLocalSettings ] = useState(\n\t\tgetInitialSettings()\n\t);\n\tconst [ slugManuallyEdited, setSlugManuallyEdited ] = useState( false );\n\tconst [ fullTitle, setFullTitle ] = useState( '' );\n\tconst [ fullSlug, setFullSlug ] = useState( '' );\n\tconst [ initialized, setInitialized ] = useState( false );\n\n\t// Get users list and current user from localized data\n\tconst usersList = window.postDuplicatorVars?.users || [];\n\tconst currentUser = window.postDuplicatorVars?.currentUser;\n\n\t// Initialize selectedAuthorId with a valid default (current user ID or first user in list)\n\tconst defaultAuthorId = currentUser?.id\n\t\t? String( currentUser.id )\n\t\t: usersList.length > 0\n\t\t? usersList[ 0 ].value\n\t\t: '';\n\tconst [ selectedAuthorId, setSelectedAuthorId ] =\n\t\tuseState( defaultAuthorId );\n\tconst [ postDate, setPostDate ] = useState( new Date().toISOString() );\n\tconst [ dateInputValue, setDateInputValue ] = useState( '' );\n\t\n\t// Check if MediaUpload is available at runtime\n\tconst { MediaUpload, MediaUploadCheck } = getMediaUploadComponents();\n\t\n\t// Detect if we're on the post list screen (not in block editor)\n\t// MediaUpload components may not work properly outside the block editor context\n\t// Check if the editor store is available (only in block editor)\n\tlet isPostListScreen = true;\n\ttry {\n\t\tif ( typeof window.wp !== 'undefined' && \n\t\t\t window.wp.data && \n\t\t\t typeof window.wp.data.select === 'function' ) {\n\t\t\tconst editorStore = window.wp.data.select( 'core/editor' );\n\t\t\tisPostListScreen = ! editorStore || typeof editorStore.getCurrentPost !== 'function';\n\t\t}\n\t} catch ( e ) {\n\t\t// If we can't access the editor store, assume we're on post list screen\n\t\tisPostListScreen = true;\n\t}\n\t\n\n\t// Sanitize slug using WordPress-style sanitization\n\tconst sanitizeSlug = ( text ) => {\n\t\treturn text\n\t\t\t.toLowerCase()\n\t\t\t.trim()\n\t\t\t.replace( /\\s+/g, '-' ) // Replace spaces with hyphens\n\t\t\t.replace( /[^\\w\\-]/g, '' ) // Remove non-word chars except hyphens\n\t\t\t.replace( /\\-\\-+/g, '-' ) // Replace multiple hyphens with single hyphen\n\t\t\t.replace( /^-+/, '' ) // Trim hyphens from start\n\t\t\t.replace( /-+$/, '' ); // Trim hyphens from end\n\t};\n\n\t// Generate slug from title\n\tconst generateSlugFromTitle = ( title ) => {\n\t\treturn sanitizeSlug( title );\n\t};\n\n\tconst handleChange = ( field, value ) => {\n\t\tconst newSettings = { ...localSettings, [ field ]: value };\n\n\t\t// If changing timestamp to not-custom, clear customDate\n\t\tif ( field === 'timestamp' && value !== 'custom' ) {\n\t\t\tnewSettings.customDate = null;\n\t\t}\n\n\t\tsetLocalSettings( newSettings );\n\t\tonSettingsChange( newSettings );\n\t};\n\n\t// Initialize full title and slug ONLY on mount or when originalPost changes\n\tuseEffect( () => {\n\t\tif ( ! initialized && originalPost?.title && originalPost?.slug ) {\n\t\t\t// Set initial full title\n\t\t\tconst initialTitle =\n\t\t\t\tsettings.fullTitle ||\n\t\t\t\t`${ originalPost.title } ${ settings.title || '' }`;\n\t\t\tsetFullTitle( initialTitle.trim() );\n\n\t\t\t// Set initial full slug\n\t\t\tconst initialSlug =\n\t\t\t\tsettings.fullSlug ||\n\t\t\t\t`${ originalPost.slug }-${ settings.slug || 'copy' }`;\n\t\t\tsetFullSlug( initialSlug );\n\n\t\t\t// Set initial author based on default settings\n\t\t\tconst initialAuthorId =\n\t\t\t\tsettings.post_author === 'current_user'\n\t\t\t\t\t? String( currentUser?.id || '' )\n\t\t\t\t\t: String( originalPost.authorId || currentUser?.id || '' );\n\t\t\tsetSelectedAuthorId( initialAuthorId );\n\n\t\t\t// Set initial date\n\t\t\tconst initialDate = settings.customDate || new Date().toISOString();\n\t\t\tsetPostDate( initialDate );\n\t\t\tsetDateInputValue( formatDateDisplay( initialDate ) );\n\n\t\t\tsetInitialized( true );\n\t\t}\n\t}, [ originalPost, initialized, settings, currentUser ] );\n\n\t// Update localSettings when settings prop changes (but not title/slug)\n\tuseEffect( () => {\n\t\tconst updated = { ...settings };\n\n\t\t// Handle type: if \"same\", use original post type\n\t\tif ( settings.type === 'same' && originalPost?.type ) {\n\t\t\tupdated.type = originalPost.type;\n\t\t}\n\n\t\t// Handle status: if \"same\", use original post status\n\t\tif ( settings.status === 'same' && originalPost?.status ) {\n\t\t\tupdated.status = originalPost.status;\n\t\t}\n\n\t\tsetLocalSettings( updated );\n\t}, [ settings, originalPost ] );\n\n\t// Format date for display\n\tconst formatDateDisplay = ( dateString ) => {\n\t\tconst date = new Date( dateString );\n\t\treturn date.toLocaleString( 'en-US', {\n\t\t\tyear: 'numeric',\n\t\t\tmonth: 'short',\n\t\t\tday: 'numeric',\n\t\t\thour: '2-digit',\n\t\t\tminute: '2-digit',\n\t\t} );\n\t};\n\n\t// Handle manual date input and format on blur\n\tconst handleDateBlur = () => {\n\t\ttry {\n\t\t\tconst parsedDate = new Date( dateInputValue );\n\t\t\tif ( ! isNaN( parsedDate.getTime() ) ) {\n\t\t\t\t// Valid date - format and save\n\t\t\t\tconst formattedDate = parsedDate.toISOString();\n\t\t\t\tsetPostDate( formattedDate );\n\t\t\t\tsetDateInputValue( formatDateDisplay( formattedDate ) );\n\t\t\t\thandleChange( 'customDate', formattedDate );\n\t\t\t} else {\n\t\t\t\t// Invalid date - revert to previous valid date display\n\t\t\t\tsetDateInputValue( formatDateDisplay( postDate ) );\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\t// Error parsing - revert to previous valid date display\n\t\t\tsetDateInputValue( formatDateDisplay( postDate ) );\n\t\t}\n\t};\n\n\t// Handle date input changes (just update display value)\n\tconst handleDateInputChange = ( value ) => {\n\t\tsetDateInputValue( value );\n\t};\n\n\t// Handle date picker changes\n\tconst handleDatePickerChange = ( value ) => {\n\t\tsetPostDate( value );\n\t\tsetDateInputValue( formatDateDisplay( value ) );\n\t\thandleChange( 'customDate', value );\n\t};\n\n\tconst handleTitleChange = ( value ) => {\n\t\tsetFullTitle( value );\n\n\t\t// Auto-generate slug from title if slug hasn't been manually edited\n\t\tif ( ! slugManuallyEdited && originalPost?.title ) {\n\t\t\tconst newSlug = generateSlugFromTitle( value );\n\t\t\tsetFullSlug( newSlug );\n\t\t}\n\n\t\t// Pass full title to parent\n\t\thandleChange( 'fullTitle', value );\n\t};\n\n\tconst handleSlugChange = ( value ) => {\n\t\tsetFullSlug( value );\n\t\tsetSlugManuallyEdited( true );\n\n\t\t// Pass full slug to parent\n\t\thandleChange( 'fullSlug', value );\n\t};\n\n\tconst handleSlugBlur = () => {\n\t\t// If slug is empty, regenerate from title\n\t\tif ( ! fullSlug || fullSlug.trim() === '' ) {\n\t\t\tconst regeneratedSlug = generateSlugFromTitle( fullTitle );\n\t\t\tsetFullSlug( regeneratedSlug );\n\t\t\thandleChange( 'fullSlug', regeneratedSlug );\n\t\t\t// Reset manual edit flag since we're regenerating\n\t\t\tsetSlugManuallyEdited( false );\n\t\t} else {\n\t\t\t// Sanitize slug on blur\n\t\t\tconst sanitized = sanitizeSlug( fullSlug );\n\t\t\tsetFullSlug( sanitized );\n\t\t\thandleChange( 'fullSlug', sanitized );\n\t\t}\n\t};\n\n\tconst formatChoices = ( choices ) => {\n\t\tif ( Array.isArray( choices ) ) {\n\t\t\treturn choices;\n\t\t}\n\t\treturn Object.entries( choices ).map( ( [ value, label ] ) => ( {\n\t\t\tvalue,\n\t\t\tlabel,\n\t\t} ) );\n\t};\n\n\t// Open WordPress media library using wp.media API (fallback for post list screen)\n\tconst openWpMediaLibrary = () => {\n\t\t// Ensure wp.media is available\n\t\tif ( typeof window.wp === 'undefined' || ! window.wp.media ) {\n\t\t\tconsole.error( 'WordPress media library is not available. Make sure wp_enqueue_media() is called.' );\n\t\t\talert( __( 'Media library is not available. Please refresh the page.', 'post-duplicator' ) );\n\t\t\treturn;\n\t\t}\n\n\t\tconst mediaFrame = window.wp.media( {\n\t\t\ttitle: __( 'Select or Upload Featured Image', 'post-duplicator' ),\n\t\t\tbutton: {\n\t\t\t\ttext: __( 'Use this image', 'post-duplicator' ),\n\t\t\t},\n\t\t\tmultiple: false,\n\t\t\tlibrary: {\n\t\t\t\ttype: 'image',\n\t\t\t},\n\t\t} );\n\n\t\tmediaFrame.on( 'select', () => {\n\t\t\tconst attachment = mediaFrame.state().get( 'selection' ).first().toJSON();\n\t\t\tconst imageData = {\n\t\t\t\tid: attachment.id,\n\t\t\t\turl: attachment.url,\n\t\t\t\tthumbnail:\n\t\t\t\t\tattachment.sizes?.thumbnail?.url || attachment.url,\n\t\t\t\talt: attachment.alt || '',\n\t\t\t};\n\t\t\tif ( onFeaturedImageChange ) {\n\t\t\t\tonFeaturedImageChange( imageData );\n\t\t\t}\n\t\t} );\n\n\t\tmediaFrame.open();\n\t};\n\n\t// Render the featured image UI (shared between MediaUpload and wp.media)\n\tconst renderFeaturedImageUI = ( openMediaLibrary ) => {\n\t\t// Generate alt text description\n\t\tconst altText = featuredImage?.alt || '';\n\t\tconst fileName =\n\t\t\tfeaturedImage?.url?.split( '/' ).pop() || '';\n\t\tconst describedBy = `editor-post-featured-image-${\n\t\t\tfeaturedImage?.id || 'new'\n\t\t}-describedby`;\n\t\tconst imageDescription = altText\n\t\t\t? altText\n\t\t\t: __(\n\t\t\t\t\t'The current image has no alternative text.',\n\t\t\t\t\t'post-duplicator'\n\t\t\t  ) +\n\t\t\t  ( fileName\n\t\t\t\t\t? ` ${ __( 'The file name is:', 'post-duplicator' ) } ${ fileName }`\n\t\t\t\t\t: '' );\n\n\t\treturn (\n\t\t\t<div className=\"editor-post-featured-image__container\">\n\t\t\t\t{ /* Screen reader description */ }\n\t\t\t\t{ featuredImage && (\n\t\t\t\t\t<div id={ describedBy } className=\"hidden\">\n\t\t\t\t\t\t{ imageDescription }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\n\t\t\t\t{ featuredImage ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"components-button editor-post-featured-image__preview is-next-40px-default-size\"\n\t\t\t\t\t\t\tonClick={ openMediaLibrary }\n\t\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t\t'Edit or replace the featured image',\n\t\t\t\t\t\t\t\t'post-duplicator'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\taria-describedby={ describedBy }\n\t\t\t\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__preview-image\"\n\t\t\t\t\t\t\t\tsrc={ featuredImage.url }\n\t\t\t\t\t\t\t\talt={ imageDescription }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<HStack className=\"editor-post-featured-image__actions\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"components-button editor-post-featured-image__action is-next-40px-default-size\"\n\t\t\t\t\t\t\t\tonClick={ openMediaLibrary }\n\t\t\t\t\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Replace', 'post-duplicator' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"components-button editor-post-featured-image__action is-next-40px-default-size\"\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tif ( onFeaturedImageChange ) {\n\t\t\t\t\t\t\t\t\t\tonFeaturedImageChange( null );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Remove', 'post-duplicator' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tonClick={ openMediaLibrary }\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Set featured image', 'post-duplicator' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\n\t\t\t\t{ /* Drop Zone - only show if DropZone is available */ }\n\t\t\t\t{ DropZone && (\n\t\t\t\t\t<DropZone\n\t\t\t\t\t\tonFilesDrop={ ( files ) => {\n\t\t\t\t\t\t\t// Handle file drop - open media library\n\t\t\t\t\t\t\tif ( files.length > 0 ) {\n\t\t\t\t\t\t\t\topenMediaLibrary();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tclassName=\"components-drop-zone\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"components-drop-zone__content\">\n\t\t\t\t\t\t\t<div className=\"components-drop-zone__content-inner\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\twidth=\"24\"\n\t\t\t\t\t\t\t\t\theight=\"24\"\n\t\t\t\t\t\t\t\t\tclassName=\"components-drop-zone__content-icon\"\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\tfocusable=\"false\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path d=\"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"components-drop-zone__content-text\">\n\t\t\t\t\t\t\t\t\t{ __( 'Drop files to upload', 'post-duplicator' ) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</DropZone>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<VStack className=\"duplicate-settings-fields\" spacing=\"20px\">\n\t\t\t{ /* Row 1: Title (left) | Featured Image (right) */ }\n\t\t\t<HStack spacing=\"16px\" alignment=\"stretch\" className=\"duplicate-settings-fields__top\">\n\t\t\t\t<VStack className=\"duplicate-settings-fields__title\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Title', 'post-duplicator' ) }\n\t\t\t\t\t\tvalue={ fullTitle }\n\t\t\t\t\t\tonChange={ handleTitleChange }\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tstyle={ { flex: 1 } }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Slug', 'post-duplicator' ) }\n\t\t\t\t\t\tvalue={ fullSlug }\n\t\t\t\t\t\tonChange={ handleSlugChange }\n\t\t\t\t\t\tonBlur={ handleSlugBlur }\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t/>\n\t\t\t\t</VStack>\n\t\t\t\t{ /* Featured Image Control */ }\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"duplicate-settings-fields__featured-image\"\n\t\t\t\t\tstyle={ { minWidth: '200px', width: '35%',\n            flex: '0 0 auto' } }\n\t\t\t\t>\n\t\t\t\t\t{ ( () => {\n\t\t\t\t\t\t// On post list screen, always use wp.media fallback since MediaUploadCheck may block rendering\n\t\t\t\t\t\t// In block editor, use MediaUpload if available\n\t\t\t\t\t\tconst shouldUseMediaUpload = ! isPostListScreen && MediaUpload && MediaUploadCheck;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( shouldUseMediaUpload ) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\t\t\tonSelect={ ( media ) => {\n\t\t\t\t\t\t\t\t\t\t\tconst imageData = {\n\t\t\t\t\t\t\t\t\t\t\t\tid: media.id,\n\t\t\t\t\t\t\t\t\t\t\t\turl: media.url,\n\t\t\t\t\t\t\t\t\t\t\t\tthumbnail:\n\t\t\t\t\t\t\t\t\t\t\t\t\tmedia.sizes?.thumbnail?.url ||\n\t\t\t\t\t\t\t\t\t\t\t\t\tmedia.url,\n\t\t\t\t\t\t\t\t\t\t\t\talt: media.alt || '',\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\tif ( onFeaturedImageChange ) {\n\t\t\t\t\t\t\t\t\t\t\t\tonFeaturedImageChange( imageData );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\t\t\t\t\t\tvalue={ featuredImage?.id }\n\t\t\t\t\t\t\t\t\t\trender={ ( { open } ) => {\n\t\t\t\t\t\t\t\t\t\t\treturn renderFeaturedImageUI( open );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\treturn renderFeaturedImageUI( () => openWpMediaLibrary() );\n\t\t\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\t\t\tconsole.error( 'Error rendering featured image UI:', error );\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p>Error rendering featured image UI: { error.message }</p>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () => openWpMediaLibrary() }\n\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Set featured image', 'post-duplicator' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} )() }\n\t\t\t\t</div>\n\t\t\t</HStack>\n\n\t\t\t{ /* Row 4: Post Type | Post Author | Post Date */ }\n\t\t\t<HStack spacing=\"16px\" alignment=\"stretch\">\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ __( 'Post Type', 'post-duplicator' ) }\n\t\t\t\t\tvalue={ localSettings.type }\n\t\t\t\t\toptions={ formatChoices( postTypes ) }\n\t\t\t\t\tonChange={ ( value ) => handleChange( 'type', value ) }\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t/>\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ __( 'Post Status', 'post-duplicator' ) }\n\t\t\t\t\tvalue={ localSettings.status }\n\t\t\t\t\toptions={ formatChoices( statusChoices ) }\n\t\t\t\t\tonChange={ ( value ) => handleChange( 'status', value ) }\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t/>\n      </HStack>\n      <HStack spacing=\"16px\" alignment=\"stretch\">\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ __( 'Post Author', 'post-duplicator' ) }\n\t\t\t\t\tvalue={ selectedAuthorId || '' }\n\t\t\t\t\toptions={ usersList }\n\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\tsetSelectedAuthorId( value );\n\t\t\t\t\t\thandleChange( 'selectedAuthorId', parseInt( value ) );\n\t\t\t\t\t} }\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t/>\n        <div style={ { flex: 1, position: 'relative' } }>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Post Date', 'post-duplicator' ) }\n\t\t\t\t\t\tvalue={ dateInputValue }\n\t\t\t\t\t\tonChange={ handleDateInputChange }\n\t\t\t\t\t\tonBlur={ handleDateBlur }\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t/>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tpopoverProps={ {\n\t\t\t\t\t\t\tplacement: 'bottom-end',\n\t\t\t\t\t\t\toffset: 8,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\ticon={ calendar }\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tright: '2px',\n\t\t\t\t\t\t\t\t\ttop: '26px',\n\t\t\t\t\t\t\t\t\tminWidth: '36px',\n\t\t\t\t\t\t\t\t\theight: '36px',\n\t\t\t\t\t\t\t\t\tpadding: '0',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t\t<div style={ { padding: '16px' } }>\n\t\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\t\tcurrentDate={ postDate }\n\t\t\t\t\t\t\t\t\tonChange={ handleDatePickerChange }\n\t\t\t\t\t\t\t\t\tis12Hour={ false }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</HStack>\n\t\t</VStack>\n\t);\n};\n\nexport default DuplicateSettingsFields;\n","import { useState, useEffect } from '@wordpress/element';\nimport {\n\tToggleControl,\n\tFormTokenField,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nconst TaxonomySection = ( { taxonomies, onChange, enabled, onToggle } ) => {\n\tconst [ isExpanded, setIsExpanded ] = useState( false );\n\tconst [ selectedTerms, setSelectedTerms ] = useState( {} );\n\n\t// Initialize selected terms from taxonomies\n\tuseEffect( () => {\n\t\tif ( taxonomies && taxonomies.length > 0 ) {\n\t\t\tconst initialTerms = {};\n\t\t\ttaxonomies.forEach( ( taxonomy ) => {\n\t\t\t\t// Use assignedTermIds if available (terms currently on the post)\n\t\t\t\tinitialTerms[ taxonomy.slug ] = taxonomy.assignedTermIds || [];\n\t\t\t} );\n\t\t\tsetSelectedTerms( initialTerms );\n\t\t}\n\t}, [ taxonomies ] );\n\n\t// Calculate counts\n\tconst taxonomyCount = taxonomies ? taxonomies.length : 0;\n\tconst totalTermsCount = taxonomies\n\t\t? taxonomies.reduce(\n\t\t\t\t( sum, taxonomy ) => sum + taxonomy.terms.length,\n\t\t\t\t0\n\t\t  )\n\t\t: 0;\n\tconst selectedTermsCount = Object.values( selectedTerms ).reduce(\n\t\t( sum, termIds ) => sum + termIds.length,\n\t\t0\n\t);\n\n\tconst handleTermChange = ( taxonomySlug, termIds ) => {\n\t\tconst newSelectedTerms = {\n\t\t\t...selectedTerms,\n\t\t\t[ taxonomySlug ]: termIds,\n\t\t};\n\t\tsetSelectedTerms( newSelectedTerms );\n\n\t\t// Notify parent of change\n\t\tif ( onChange ) {\n\t\t\tonChange( newSelectedTerms );\n\t\t}\n\t};\n\n\tconst handleSectionClick = ( e ) => {\n\t\t// Don't expand if clicking the toggle\n\t\tif ( e.target.closest( '.components-toggle-control' ) ) {\n\t\t\treturn;\n\t\t}\n\t\tsetIsExpanded( ! isExpanded );\n\t};\n\n\tif ( ! taxonomies || taxonomies.length === 0 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div \n\t\t\tclassName=\"duplicate-post-modal__taxonomy-section\"\n\t\t\tstyle={ {\n\t\t\t\topacity: enabled ? 1 : 0.5,\n\t\t\t} }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"duplicate-post-modal__section-header\"\n\t\t\t\tonClick={ handleSectionClick }\n\t\t\t\tstyle={ {\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tgap: '12px',\n\t\t\t\t\tpadding: '12px',\n\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\tborderBottom: isExpanded\n\t\t\t\t\t\t? '1px solid rgba(0, 0, 0, 0.1)'\n\t\t\t\t\t\t: 'none',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<ToggleControl\n\t\t\t\t\tchecked={ enabled }\n\t\t\t\t\tonChange={ onToggle }\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t/>\n\t\t\t\t<div style={ { flex: 1 } }>\n\t\t\t\t\t<span className=\"duplicate-post-modal__section-label\">\n\t\t\t\t\t\t{ __( 'Taxonomies', 'post-duplicator' ) }\n\t\t\t\t\t</span>\n\t\t\t\t\t{ enabled && (\n\t\t\t\t\t\t<span className=\"duplicate-post-modal__section-count\">\n\t\t\t\t\t\t\t{ ' ' }\n\t\t\t\t\t\t\t({ taxonomyCount }{ ' ' }\n\t\t\t\t\t\t\t{ __( 'taxonomies', 'post-duplicator' ) },{ ' ' }\n\t\t\t\t\t\t\t{ selectedTermsCount || totalTermsCount }{ ' ' }\n\t\t\t\t\t\t\t{ __( 'terms', 'post-duplicator' ) })\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{ isExpanded && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"duplicate-post-modal__section-content\"\n\t\t\t\t\tstyle={ { padding: '16px' } }\n\t\t\t\t>\n\t\t\t\t\t<VStack spacing=\"20px\">\n\t\t\t\t\t\t{ taxonomies.map( ( taxonomy ) => {\n\t\t\t\t\t\t\tconst currentTermIds =\n\t\t\t\t\t\t\t\tselectedTerms[ taxonomy.slug ] || [];\n\n\t\t\t\t\t\t\t// Get ALL term names for suggestions\n\t\t\t\t\t\t\tconst termSuggestions = taxonomy.terms.map(\n\t\t\t\t\t\t\t\t( term ) => term.name\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Get selected term names\n\t\t\t\t\t\t\tconst selectedTermNames = taxonomy.terms\n\t\t\t\t\t\t\t\t.filter( ( term ) =>\n\t\t\t\t\t\t\t\t\tcurrentTermIds.includes( term.id )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.map( ( term ) => term.name );\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={ taxonomy.slug }>\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t\t\t\t\tmarginBottom: '8px',\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: 500,\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ taxonomy.label }\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<FormTokenField\n\t\t\t\t\t\t\t\t\t\tvalue={ selectedTermNames }\n\t\t\t\t\t\t\t\t\t\tsuggestions={ termSuggestions }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( tokens ) => {\n\t\t\t\t\t\t\t\t\t\t\t// Convert term names back to IDs\n\t\t\t\t\t\t\t\t\t\t\tconst newTermIds = tokens\n\t\t\t\t\t\t\t\t\t\t\t\t.map( ( tokenName ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst term =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttaxonomy.terms.find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t( t ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt.name ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttokenName\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn term\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? term.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: null;\n\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t( id ) => id !== null\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\thandleTermChange(\n\t\t\t\t\t\t\t\t\t\t\t\ttaxonomy.slug,\n\t\t\t\t\t\t\t\t\t\t\t\tnewTermIds\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t__experimentalExpandOnFocus\n\t\t\t\t\t\t\t\t\t\t__experimentalShowHowTo={ false }\n\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</VStack>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nexport default TaxonomySection;\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * Shared utility function to duplicate a post\n *\n * @param {number} postId - The ID of the post to duplicate\n * @param {Object} settings - The duplication settings\n * @param {Object} callbacks - Callback functions for different scenarios\n * @param {Function} callbacks.onSuccess - Called when duplication succeeds, receives { duplicate_id }\n * @param {Function} callbacks.onError - Called when duplication fails, receives error object\n * @returns {Promise} Promise that resolves when the duplication is complete\n */\nexport const duplicatePost = async ( postId, settings, callbacks = {} ) => {\n\tconst { onSuccess, onError } = callbacks;\n\n\ttry {\n\t\tconst response = await fetch(\n\t\t\t`${ postDuplicatorVars.restUrl }duplicate-post`,\n\t\t\t{\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'X-WP-Nonce': postDuplicatorVars.nonce,\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify( {\n\t\t\t\t\toriginal_id: postId,\n\t\t\t\t\t...settings,\n\t\t\t\t} ),\n\t\t\t}\n\t\t);\n\n\t\tif ( ! response.ok ) {\n\t\t\tconst errorData = await response.json();\n\t\t\tconst error = new Error(\n\t\t\t\terrorData.message || 'Failed to duplicate post'\n\t\t\t);\n\t\t\terror.data = errorData;\n\t\t\tthrow error;\n\t\t}\n\n\t\tconst result = await response.json();\n\n\t\tif ( result.duplicate_id && onSuccess ) {\n\t\t\tonSuccess( result );\n\t\t}\n\n\t\treturn result;\n\t} catch ( error ) {\n\t\tconsole.error( 'Error duplicating post:', error );\n\t\tif ( onError ) {\n\t\t\tonError( error );\n\t\t}\n\t\tthrow error;\n\t}\n};\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerPlugin } from '@wordpress/plugins';\nimport { PluginPostStatusInfo } from '@wordpress/editor';\nimport { Button } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { useState, useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport DuplicateModal from './components/DuplicateModal';\nimport { duplicatePost } from './utils/duplicatePost';\nimport './css/gutenberg-button.scss';\n\nconst DuplicatePostButton = () => {\n\tconst [ isLoading, setIsLoading ] = useState( false );\n\tconst [ error, setError ] = useState( null );\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst [ taxonomies, setTaxonomies ] = useState( [] );\n\tconst [ customMeta, setCustomMeta ] = useState( [] );\n\tconst [ featuredImage, setFeaturedImage ] = useState( null );\n\n\tconst {\n\t\tpostId,\n\t\tpostType,\n\t\tpostStatus,\n\t\tpostTypeLabel,\n\t\tpostTitle,\n\t\tpostSlug,\n\t\tpostDate,\n\t\tpostAuthor,\n\t\tfeaturedMediaId,\n\t} = useSelect( ( select ) => {\n\t\tconst editor = select( 'core/editor' );\n\t\tconst currentPost = editor.getCurrentPost();\n\t\tconst currentPostType = editor.getCurrentPostType();\n\t\tconst postTypeObj = select( 'core' ).getPostType( currentPostType );\n\t\tconst authorId = editor.getEditedPostAttribute( 'author' );\n\n\t\t// Get author name\n\t\tconst author = select( 'core' ).getUser( authorId );\n\t\tconst authorName = author ? author.name : 'Unknown Author';\n\n\t\t// Get featured media ID\n\t\tconst featuredMediaId =\n\t\t\teditor.getEditedPostAttribute( 'featured_media' );\n\n\t\treturn {\n\t\t\tpostId: currentPost.id,\n\t\t\tpostType: currentPostType,\n\t\t\tpostStatus: editor.getEditedPostAttribute( 'status' ),\n\t\t\tpostTypeLabel: postTypeObj\n\t\t\t\t? postTypeObj.labels.singular_name\n\t\t\t\t: 'Post',\n\t\t\tpostTitle: editor.getEditedPostAttribute( 'title' ),\n\t\t\tpostSlug: editor.getEditedPostAttribute( 'slug' ),\n\t\t\tpostDate: editor.getEditedPostAttribute( 'date' ),\n\t\t\tpostAuthor: authorName,\n\t\t\tfeaturedMediaId: featuredMediaId,\n\t\t};\n\t}, [] );\n\n\t// Fetch taxonomy, custom meta, and featured image data when modal opens\n\tuseEffect( () => {\n\t\tif ( isModalOpen && postId ) {\n\t\t\tconst fetchPostData = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch(\n\t\t\t\t\t\t`${ postDuplicatorVars.restUrl }post-data/${ postId }`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t'X-WP-Nonce': postDuplicatorVars.nonce,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\tif ( response.ok ) {\n\t\t\t\t\t\tconst postData = await response.json();\n\t\t\t\t\t\tsetTaxonomies( postData.taxonomies || [] );\n\t\t\t\t\t\tsetCustomMeta( postData.customMeta || [] );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fetch featured image if available\n\t\t\t\t\tif ( featuredMediaId && featuredMediaId > 0 ) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst baseUrl = postDuplicatorVars.restUrl.replace(\n\t\t\t\t\t\t\t\t'post-duplicator/v1/',\n\t\t\t\t\t\t\t\t'wp/v2/'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst mediaResponse = await fetch(\n\t\t\t\t\t\t\t\t`${ baseUrl }media/${ featuredMediaId }`,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\t\t'X-WP-Nonce': postDuplicatorVars.nonce,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif ( mediaResponse.ok ) {\n\t\t\t\t\t\t\t\tconst mediaData = await mediaResponse.json();\n\t\t\t\t\t\t\t\tsetFeaturedImage( {\n\t\t\t\t\t\t\t\t\tid: mediaData.id,\n\t\t\t\t\t\t\t\t\turl: mediaData.source_url,\n\t\t\t\t\t\t\t\t\tthumbnail:\n\t\t\t\t\t\t\t\t\t\tmediaData.media_details?.sizes\n\t\t\t\t\t\t\t\t\t\t\t?.thumbnail?.source_url ||\n\t\t\t\t\t\t\t\t\t\tmediaData.source_url,\n\t\t\t\t\t\t\t\t\talt: mediaData.alt_text || '',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetFeaturedImage( null );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\t\t'Error fetching featured image:',\n\t\t\t\t\t\t\t\terror\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetFeaturedImage( null );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetFeaturedImage( null );\n\t\t\t\t\t}\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( 'Error fetching post data:', error );\n\t\t\t\t\t// Continue without taxonomy/meta data\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchPostData();\n\t\t}\n\t}, [ isModalOpen, postId, featuredMediaId ] );\n\n\t// Only show for published posts\n\tif ( postStatus !== 'publish' || ! postId ) {\n\t\treturn null;\n\t}\n\n\tconst handleDuplicate = async ( settings, callbacks ) => {\n\t\tsetIsLoading( true );\n\t\tsetError( null );\n\n\t\tawait duplicatePost( postId, settings, {\n\t\t\tonSuccess: ( result ) => {\n\t\t\t\tsetIsLoading( false );\n\t\t\t\tif ( callbacks?.onSuccess ) {\n\t\t\t\t\tcallbacks.onSuccess( result );\n\t\t\t\t}\n\t\t\t},\n\t\t\tonError: ( error ) => {\n\t\t\t\tsetError(\n\t\t\t\t\terror.message ||\n\t\t\t\t\t\terror.data?.message ||\n\t\t\t\t\t\t'Failed to duplicate post'\n\t\t\t\t);\n\t\t\t\tsetIsLoading( false );\n\t\t\t\tif ( callbacks?.onError ) {\n\t\t\t\t\tcallbacks.onError( error );\n\t\t\t\t}\n\t\t\t},\n\t\t} );\n\t};\n\n\tconst originalPost = {\n\t\tid: postId,\n\t\ttitle: postTitle,\n\t\ttype: postType,\n\t\tstatus: postStatus,\n\t\tslug: postSlug,\n\t\tdate: postDate,\n\t\tauthor: postAuthor,\n\t\ttaxonomies: taxonomies,\n\t\tcustomMeta: customMeta,\n\t\tfeaturedImage: featuredImage,\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<PluginPostStatusInfo className=\"m4c-duplicate-post-status-info\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"m4c-duplicate-post-wrapper\"\n\t\t\t\t\tstyle={ { paddingTop: '16px' } }\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tclassName=\"m4c-duplicate-post-gutenberg\"\n\t\t\t\t\t\tonClick={ () => setIsModalOpen( true ) }\n\t\t\t\t\t\tdisabled={ isLoading }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t`Duplicate ${ postTypeLabel }`,\n\t\t\t\t\t\t\t'post-duplicator'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t{ error && (\n\t\t\t\t\t\t<div className=\"m4c-duplicate-error\">{ error }</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</PluginPostStatusInfo>\n\t\t\t<DuplicateModal\n\t\t\t\tisOpen={ isModalOpen }\n\t\t\t\tonClose={ () => setIsModalOpen( false ) }\n\t\t\t\tonDuplicate={ handleDuplicate }\n\t\t\t\toriginalPost={ originalPost }\n\t\t\t\tdefaultSettings={ postDuplicatorVars.defaultSettings }\n\t\t\t\tpostTypes={ postDuplicatorVars.postTypes }\n\t\t\t\tstatusChoices={ postDuplicatorVars.statusChoices }\n\t\t\t\tsiteUrl={ postDuplicatorVars.siteUrl }\n\t\t\t\tcurrentUser={ postDuplicatorVars.currentUser }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nregisterPlugin( 'post-duplicator-button', {\n\trender: DuplicatePostButton,\n} );\n"],"names":["useState","useEffect","ToggleControl","TextControl","TextareaControl","Button","__experimentalVStack","VStack","__experimentalHStack","HStack","__","trash","jsx","_jsx","jsxs","_jsxs","CustomMetaSection","customMeta","onChange","enabled","onToggle","isExpanded","setIsExpanded","metaFields","setMetaFields","length","map","meta","key","value","type","isSerialized","originalValue","isDeleted","fieldCount","filter","field","handleFieldChange","index","newFields","parsed","JSON","parse","Array","isArray","e","formattedFields","f","handleDeleteField","handleAddField","newField","handleSectionClick","target","closest","handleValueBlur","error","className","style","opacity","children","onClick","display","alignItems","gap","padding","cursor","borderBottom","checked","__nextHasNoMarginBottom","flex","spacing","border","borderRadius","alignment","label","__next40pxDefaultSize","onBlur","rows","icon","variant","marginTop","alignSelf","useRef","Modal","Spinner","DuplicateSettingsFields","TaxonomySection","Fragment","_Fragment","DuplicateModal","isOpen","onClose","onDuplicate","originalPost","defaultSettings","postTypes","statusChoices","siteUrl","currentUser","settings","setSettings","isLoading","setIsLoading","includeTaxonomies","setIncludeTaxonomies","includeCustomMeta","setIncludeCustomMeta","taxonomyData","setTaxonomyData","customMetaData","setCustomMetaData","featuredImage","setFeaturedImage","duplicateStatus","setDuplicateStatus","duplicatedPostId","setDuplicatedPostId","duplicatedPostTitle","setDuplicatedPostTitle","prevIsOpenRef","current","taxonomies","initialTaxonomyData","forEach","taxonomy","slug","terms","term","id","getModalTitle","title","fullTitle","getDuplicateButtonLabel","targetType","postTypeLabel","handleDuplicate","finalTitle","duplicateSettings","featuredImageId","Promise","resolve","reject","onSuccess","result","duplicate_id","onError","console","handleTaxonomyChange","selectedTerms","handleCustomMetaChange","timer","setTimeout","modalFrame","document","querySelector","setProperty","thumbnail","url","clearTimeout","handleClose","onRequestClose","size","paddingBottom","onSettingsChange","onFeaturedImageChange","src","alt","window","open","position","bottom","left","borderTop","background","disabled","isBusy","SelectControl","CheckboxControl","DateTimePicker","Dropdown","Flex","FlexBlock","FlexItem","__experimentalNumberControl","NumberControl","DropZone","calendar","getMediaUploadComponents","blockEditor","require","MediaUpload","MediaUploadCheck","getInitialSettings","initial","status","localSettings","setLocalSettings","slugManuallyEdited","setSlugManuallyEdited","setFullTitle","fullSlug","setFullSlug","initialized","setInitialized","usersList","postDuplicatorVars","users","defaultAuthorId","String","selectedAuthorId","setSelectedAuthorId","postDate","setPostDate","Date","toISOString","dateInputValue","setDateInputValue","isPostListScreen","wp","data","select","editorStore","getCurrentPost","sanitizeSlug","text","toLowerCase","trim","replace","generateSlugFromTitle","handleChange","newSettings","customDate","initialTitle","initialSlug","initialAuthorId","post_author","authorId","initialDate","formatDateDisplay","updated","dateString","date","toLocaleString","year","month","day","hour","minute","handleDateBlur","parsedDate","isNaN","getTime","formattedDate","handleDateInputChange","handleDatePickerChange","handleTitleChange","newSlug","handleSlugChange","handleSlugBlur","regeneratedSlug","sanitized","formatChoices","choices","Object","entries","openWpMediaLibrary","media","alert","mediaFrame","button","multiple","library","on","attachment","state","get","first","toJSON","imageData","sizes","renderFeaturedImageUI","openMediaLibrary","altText","fileName","split","pop","describedBy","imageDescription","onFilesDrop","files","xmlns","viewBox","width","height","focusable","d","minWidth","shouldUseMediaUpload","onSelect","allowedTypes","render","message","options","parseInt","popoverProps","placement","offset","renderToggle","right","top","renderContent","currentDate","is12Hour","FormTokenField","setSelectedTerms","initialTerms","assignedTermIds","taxonomyCount","totalTermsCount","reduce","sum","selectedTermsCount","values","termIds","handleTermChange","taxonomySlug","newSelectedTerms","currentTermIds","termSuggestions","name","selectedTermNames","includes","marginBottom","fontWeight","suggestions","tokens","newTermIds","tokenName","find","t","__experimentalExpandOnFocus","__experimentalShowHowTo","duplicatePost","postId","callbacks","response","fetch","restUrl","method","headers","nonce","body","stringify","original_id","ok","errorData","json","Error","registerPlugin","PluginPostStatusInfo","useSelect","DuplicatePostButton","setError","isModalOpen","setIsModalOpen","setTaxonomies","setCustomMeta","postType","postStatus","postTitle","postSlug","postAuthor","featuredMediaId","editor","currentPost","currentPostType","getCurrentPostType","postTypeObj","getPostType","getEditedPostAttribute","author","getUser","authorName","labels","singular_name","fetchPostData","postData","baseUrl","mediaResponse","mediaData","source_url","media_details","alt_text","paddingTop"],"ignoreList":[],"sourceRoot":""}